# Day 8: Resonant Collinearity
> # 第八天：共振共线

You find yourselves on the [roof](https://adventofcode.com/2016/day/25) of a top-secret Easter Bunny installation.
> 你们发现自己身处一座绝密复活节兔子设施的屋顶。

While The Historians do their thing, you take a look at the familiar **huge antenna**. Much to your surprise, it seems to have been reconfigured to emit a signal that makes people 0.1% more likely to buy Easter Bunny brand Imitation Mediocre Chocolate as a Christmas gift! Unthinkable!
> 当历史学家们忙着他们的事情时，你看了一眼那根熟悉的**巨大天线**。令你惊讶的是，它似乎被重新配置成发射一种信号，使得人们购买复活节兔子牌普通巧克力作为圣诞礼物的概率提升了0.1%！不可思议！

Scanning across the city, you find that there are actually many such antennas. Each antenna is tuned to a specific **frequency** indicated by a single lowercase letter, uppercase letter, or digit. You create a map (your puzzle input) of these antennas. For example:
> 你环顾城市，发现实际上有许多这样的天线。每根天线都调谐到一个特定的**频率**，用一个小写字母、大写字母或数字表示。你绘制了一张这些天线的地图（你的谜题输入）。例如：

```
............
........0...
.....0......
.......0....
....0.......
......A.....
............
............
........A...
.........A..
............
............
```

The signal only applies its nefarious effect at specific **antinodes** based on the resonant frequencies of the antennas. In particular, an antinode occurs at any point that is perfectly in line with two antennas of the same frequency - but only when one of the antennas is twice as far away as the other. This means that for any pair of antennas with the same frequency, there are two antinodes, one on either side of them.
> 信号只会在特定的**波腹点**产生其邪恶效果，这取决于天线的共振频率。具体来说，波腹点出现在与两个相同频率天线完全共线的位置——但前提是其中一个天线距离该点是另一个天线的两倍。这意味着对于任意一对相同频率的天线，会有两个波腹点，分别位于它们两侧。

So, for these two antennas with frequency `a`, they create the two antinodes marked with `#`:
> 因此，对于下图中频率为 `a` 的两根天线，它们会在 `#` 处产生两个波腹点：

```
..........
...#......
..........
....a.....
..........
.....a....
..........
......#...
..........
..........
```

Adding a third antenna with the same frequency creates several more antinodes. It would ideally add four antinodes, but two are off the right side of the map, so instead it adds only two:
> 增加第三根相同频率的天线会产生更多波腹点。理想情况下会增加四个波腹点，但有两个超出了地图右侧，因此实际上只增加了两个：

```
..........
...#......
#.........
....a.....
........a.
.....a....
..#.......
......#...
..........
..........
```

Antennas with different frequencies don't create antinodes; `A` and `a` count as different frequencies. However, antinodes **can** occur at locations that contain antennas. In this diagram, the lone antenna with frequency capital `A` creates no antinodes but has a lowercase-`a`-frequency antinode at its location:
> 不同频率的天线不会产生波腹点；`A` 和 `a` 被视为不同的频率。不过，波腹点**可以**出现在有天线的位置。在下图中，唯一的频率为大写 `A` 的天线不会产生波腹点，但它的位置上有一个小写 `a` 频率的波腹点：

```
..........
...#......
#.........
....a.....
........a.
.....a....
..#.......
......A...
..........
..........
```

The first example has antennas with two different frequencies, so the antinodes they create look like this, plus an antinode overlapping the topmost `A`-frequency antenna:
> 第一个例子中有两种不同频率的天线，因此它们产生的波腹点如下图所示，此外还有一个波腹点与最上方的 `A` 频率天线重叠：

```
......#....#
...#....0...
....#0....#.
..#....0....
....0....#..
.#....A.....
...#........
#......#....
........A...
.........A..
..........#.
..........#.
```

Because the topmost `A`-frequency antenna overlaps with a `0`-frequency antinode, there are **`14`** total unique locations that contain an antinode within the bounds of the map.
> 由于最上方的 `A` 频率天线与一个 `0` 频率的波腹点重叠，因此地图范围内共有 **`14`** 个包含波腹点的唯一位置。

Calculate the impact of the signal. **How many unique locations within the bounds of the map contain an antinode?**
> 计算信号的影响。**地图范围内有多少个唯一位置包含波腹点？**

Your puzzle answer was `220`.

## Part Two
> ## 第二部分

Watching over your shoulder as you work, one of The Historians asks if you took the effects of resonant harmonics into your calculations.
> 当你工作时，一位历史学家在你身后问你是否把共振谐波的影响考虑进去了。

Whoops!
> 糟糕！

After updating your model, it turns out that an antinode occurs at **any grid position** exactly in line with at least two antennas of the same frequency, regardless of distance. This means that some of the new antinodes will occur at the position of each antenna (unless that antenna is the only one of its frequency).
> 更新模型后，你发现只要有至少两个相同频率的天线**共线**，无论距离如何，任何网格位置都会出现波腹点。这意味着有些新的波腹点会出现在每根天线的位置（除非该天线是该频率唯一的天线）。

So, these three `T`-frequency antennas now create many antinodes:
> 因此，这三个 `T` 频率的天线现在会产生许多波腹点：

```
T....#....
...T......
.T....#...
.........#
..#.......
..........
...#......
..........
....#.....
..........
```

In fact, the three `T`-frequency antennas are all exactly in line with two antennas, so they are all also antinodes! This brings the total number of antinodes in the above example to **`9`**.
> 实际上，这三个 `T` 频率的天线都与另外两根天线共线，因此它们本身也是波腹点！这样，上述例子中的波腹点总数变为 **`9`**。

The original example now has **`34`** antinodes, including the antinodes that appear on every antenna:
> 原始例子现在有 **`34`** 个波腹点，包括出现在每根天线上的波腹点：

```
##....#....#
.#.#....0...
..#.#0....#.
..##...0....
....0....#..
.#...#A....#
...#..#.....
#....#.#....
..#.....A...
....#....A..
.#........#.
...#......##
```

Calculate the impact of the signal using this updated model. **How many unique locations within the bounds of the map contain an antinode?**
> 用这个更新后的模型计算信号的影响。**地图范围内有多少个唯一位置包含波腹点？**

Your puzzle answer was `813`.
